@use 'vuestic-sass';
@use 'icon-fonts/index';
@use './variables' as *;

@tailwind base;
@tailwind components;
@tailwind utilities;

// ============================================================================
// ğŸ¨ ç§‘æŠ€ç°¡ç´„é¢¨æ ¼ - å…¨åŸŸåŸºç¤æ¨£å¼
// ============================================================================
body {
	@apply text-regularMedium;

	font-size: 1rem;
	color: $text-primary;
	background-color: $bg-secondary;

	// Vuestic è®Šæ•¸è¦†è“‹ - ç§‘æŠ€ç°¡ç´„é¢¨æ ¼
	--va-checkbox-font-size: 0.875rem;
	--va-card-box-shadow: #{$shadow-sm};
	--va-card-padding: 1.25rem;
	--va-card-border-radius: #{$radius-lg};
	--va-font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
	--va-card-background-color: var(--va-background-primary);

	// ç§‘æŠ€ç°¡ç´„é¢¨æ ¼è®Šæ•¸
	--tech-border-color: #{$border-color};
	--tech-hover-bg: #{$bg-hover};
	--tech-active-bg: #{$bg-active};
	--tech-radius: #{$radius-md};
	--tech-transition: #{$transition-fast};
}

code,
kbd,
samp,
pre {
	font-family: monospace;
	font-size: 1em;
}

.ellipsis {
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
}

.page-title {
	@apply text-[32px] md:text-5xl font-bold leading-9 md:leading-[56px] max-sm:mt-6 mb-6 md:mb-4;
}

.h1 {
	@apply text-[32px] md:text-5xl font-bold leading-9 md:leading-[56px] max-sm:mt-6 mb-6 md:mb-4;
}

.h3,
.page-sub-title {
	@apply text-2xl font-bold leading-[30px];
}

.h5 {
	@apply font-bold leading-tight;
}

.block-title {
	@apply text-2xl font-bold mb-2;
}

.pricing-plan-card-title {
	@apply text-[28px] md:text-[32px] leading-10 font-bold;
}

.text-regular-small {
	font-size: 0.8125rem;
	line-height: 1rem;
}

// ============================================================================
// TSC æ¨™æº–åŒ– CSS å·¥å…·é¡åˆ¥
// ============================================================================

// èƒŒæ™¯è‰²
.bg-tsc-grey {
	background-color: $tsc-grey;
}

.bg-tsc-grey-light {
	background-color: $tsc-grey-light;
}

.bg-tsc-blue {
	background-color: $tsc-blue;
}

.bg-tsc-blue-dark {
	background-color: $tsc-blue-dark;
}

.bg-tsc-blue-deep {
	background-color: $tsc-blue-deep;
}

.bg-tsc-purple {
	background-color: $tsc-purple;
}

.bg-tsc-magenta {
	background-color: $tsc-magenta;
}

// æ–‡å­—è‰²
.text-tsc-blue {
	color: $tsc-blue;
}

.text-tsc-blue-dark {
	color: $tsc-blue-dark;
}

.text-tsc-blue-deep {
	color: $tsc-blue-deep;
}

.text-tsc-purple {
	color: $tsc-purple;
}

.text-tsc-magenta {
	color: $tsc-magenta;
}

.text-tsc-grey-neutral {
	color: $tsc-grey-neutral;
}

.text-tsc-black {
	color: $tsc-black;
}

// é‚Šæ¡†è‰²
.border-tsc-grey {
	border-color: $tsc-grey;
}

.border-tsc-blue {
	border-color: $tsc-blue;
}

.border-tsc-purple {
	border-color: $tsc-purple;
}

// æ¼¸å±¤èƒŒæ™¯
.bg-tsc-gradient-blue {
	background: $tsc-gradient-blue;
}

.bg-tsc-gradient-purple {
	background: $tsc-gradient-purple;
}

.bg-tsc-gradient-header {
	background: $tsc-gradient-header;
}

// ============================================================================
// æ‘ºç–ŠæŒ‰éˆ•å…±ç”¨æ¨£å¼
// ============================================================================
.collapsible {
	padding: 1rem;
	width: 100%;
	border: none;
	text-align: left;
	outline: none;
	font-size: 15px;
	display: flex;
	align-items: center;
	background: none;
	cursor: pointer;
	font-weight: 500;
}

.collapsible-content {
	transition: all 0.3s ease;
}

// ============================================================================
// ä¿®æ­£ VaIcon Material Icons å…¨åŸŸé¡¯ç¤ºå•é¡Œ
// ============================================================================
.va-icon.material-icons {
	font-family: 'Material Icons' !important;
	font-weight: normal;
	font-style: normal;
	font-size: inherit;
	line-height: 1;
	letter-spacing: normal;
	text-transform: none;
	display: inline-block;
	white-space: nowrap;
	word-wrap: normal;
	direction: ltr;
	-webkit-font-feature-settings: 'liga';
	font-feature-settings: 'liga';
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}

// ============================================================================
// å…¨åŸŸè¡¨æ ¼æ¨£å¼ - é©ç”¨æ–¼æ‰€æœ‰ VaDataTable
// ============================================================================
.table-section {
	border-radius: 0.5rem;

	.loading-container {
		background: #ffffff !important;
		border: 1px solid $tsc-grey !important;
		border-radius: 0.5rem !important;
		padding: 1rem !important;
		min-height: 300px;
		display: flex;
		align-items: center;
		justify-content: center;
	}
}

// TSC çµ±ä¸€è¡¨æ ¼æ¨£å¼ - å¥—ç”¨åˆ°æ‰€æœ‰é…ç½®äº† tsc-data-table class çš„è¡¨æ ¼
.tsc-data-table {
	border: 1px solid $tsc-grey !important;
	border-radius: 0.5rem !important;
	background: white !important;

	// ç§»é™¤æ‰€æœ‰é è¨­æ¨£å¼
	.va-data-table__table-container {
		border: none !important;
		border-radius: 0 !important;
		box-shadow: none !important;
		background: transparent !important;
	}

	.va-data-table__table {
		border: none !important;
		background: transparent !important;
		table-layout: fixed !important;
	}

	// è¡¨é ­æ¨£å¼
	.va-data-table__table-thead {
		.va-data-table__table-th {
			background: #e5e7eb !important;
			padding: 12px 16px !important;
			font-weight: 600 !important;
			font-size: 0.875rem !important;
			color: #374151 !important;
			border: none !important;
			border-bottom: 2px solid $tsc-grey !important;

			&:first-child {
				border-top-left-radius: 0.5rem !important;
			}

			&:last-child {
				border-top-right-radius: 0.5rem !important;
				border-right: none !important;
			}
		}
	}

	// è¡¨æ ¼å…§å®¹æ¨£å¼
	.va-data-table__table-tbody {
		background: transparent !important;

		.va-data-table__table-tr {
			background: #ffffff !important;
			border: 1px solid $tsc-grey !important;
			border-radius: 0.5rem !important;
			margin-bottom: 0.5rem !important;
			transition: all 0.3s ease !important;
			display: table-row !important;
			position: relative !important;

			&:hover {
				background: linear-gradient(
					135deg,
					color.adjust($tsc-grey, $lightness: 35%) 0%,
					color.adjust($tsc-grey, $lightness: 45%) 100%
				) !important;
				box-shadow:
					0 0 0 1px $tsc-grey,
					0 0 12px rgba($tsc-grey-neutral, 0.3),
					inset 0 0 8px rgba($tsc-grey, 0.03) !important;
				transform: translateY(0px) scale(1.01) !important;
				border-color: $tsc-grey !important;
				cursor: pointer !important;
				position: relative !important;
				z-index: 10 !important;
			}

			&:last-child {
				margin-bottom: 0 !important;
			}

			.va-data-table__table-td {
				padding: 16px !important;
				font-size: 0.875rem !important;
				border: none !important;
				background: transparent !important;
				vertical-align: middle !important;
				overflow: hidden !important;
				text-overflow: ellipsis !important;
				white-space: nowrap !important;

				&:first-child {
					border-top-left-radius: 0.5rem !important;
					border-bottom-left-radius: 0.5rem !important;
				}

				&:last-child {
					border-top-right-radius: 0.5rem !important;
					border-bottom-right-radius: 0.5rem !important;
				}

				// åŒ…å«æŒ‰éˆ•ã€Badgeã€é€²åº¦æ¢ç­‰å…ƒç´ çš„ cell ä¸æˆªæ–·
				&:has(.va-button),
				&:has(.va-badge),
				&:has(.va-progress-bar),
				&:has(.va-checkbox) {
					overflow: visible !important;
					text-overflow: unset !important;
					white-space: normal !important;
				}
			}
		}
	}

	// Loading overlay
	.va-data-table__loading-overlay {
		background: rgba(255, 255, 255, 0.9) !important;
		border-radius: 0.5rem !important;
	}
}

.va-badge {
	--va-badge-font-size: 15px;
}

.va-input-label {
	font-size: 1rem;
}

// ============================================================================
// ğŸ¨ ç§‘æŠ€ç°¡ç´„é¢¨æ ¼ - å¡ç‰‡æ¨£å¼
// ============================================================================
.tech-card {
	background: $bg-primary;
	border: 1px solid $border-color;
	border-radius: $radius-lg;
	padding: 1.25rem;
	transition: $transition-fast;

	&:hover {
		border-color: $tsc-blue;
	}

	&__header {
		display: flex;
		align-items: center;
		justify-content: space-between;
		margin-bottom: 1rem;
		padding-bottom: 0.75rem;
		border-bottom: 1px solid $border-color;
	}

	&__title {
		font-size: 1rem;
		font-weight: 600;
		color: $text-primary;
	}

	&__content {
		color: $text-secondary;
	}
}

// ============================================================================
// ğŸ¨ ç§‘æŠ€ç°¡ç´„é¢¨æ ¼ - ç‹€æ…‹æŒ‡ç¤ºå™¨
// ============================================================================
.status-indicator {
	display: inline-flex;
	align-items: center;
	gap: 0.5rem;
	padding: 0.25rem 0.75rem;
	border-radius: $radius-full;
	font-size: 0.75rem;
	font-weight: 500;

	&::before {
		content: '';
		width: 8px;
		height: 8px;
		border-radius: 50%;
	}

	&--running {
		background: rgba($machine-running, 0.1);
		color: $machine-running;

		&::before {
			background: $machine-running;
		}
	}

	&--idle {
		background: rgba($machine-idle, 0.1);
		color: $machine-idle;

		&::before {
			background: $machine-idle;
		}
	}

	&--warning {
		background: rgba($machine-warning, 0.1);
		color: $machine-warning;

		&::before {
			background: $machine-warning;
		}
	}

	&--error {
		background: rgba($machine-error, 0.1);
		color: $machine-error;

		&::before {
			background: $machine-error;
		}
	}
}

// ============================================================================
// ğŸ¨ ç§‘æŠ€ç°¡ç´„é¢¨æ ¼ - æŒ‰éˆ•æ¨£å¼è¦†è“‹
// ============================================================================
.va-button {
	border-radius: $radius-md !important;
	font-weight: 500 !important;
	transition: $transition-fast !important;

	&--primary {
		background: $tsc-blue !important;

		&:hover {
			background: $tsc-blue-dark !important;
		}
	}
}

// ============================================================================
// ğŸ¨ ç§‘æŠ€ç°¡ç´„é¢¨æ ¼ - è¼¸å…¥æ¡†æ¨£å¼è¦†è“‹
// ============================================================================
.va-input-wrapper {
	--va-input-wrapper-border-color: #{$border-color};
	--va-input-wrapper-border-radius: #{$radius-md};

	&:focus-within {
		--va-input-wrapper-border-color: #{$tsc-blue};
	}
}

// ============================================================================
// ğŸ¨ Light Mode å…¨åŸŸæ¨£å¼
// ============================================================================
body {
	// === Light Mode CSS è®Šæ•¸ ===
	--va-sidebar-bg: #ffffff;
	--va-sidebar-border: #e2e8f0;
	--va-sidebar-text: #475569;
	--va-sidebar-text-active: #0ea5e9;
	--va-sidebar-item-hover: #f1f5f9;
	--va-sidebar-item-active: rgba(14, 165, 233, 0.1);

	--va-navbar-bg: #ffffff;
	--va-navbar-border: #e2e8f0;
	--va-navbar-text: #0f172a;
	--va-navbar-text-secondary: #475569;
}

// ============================================================================
// ğŸ¨ ç„¡éšœç¤™è¨­è¨ˆ - æ¸›å°‘å‹•ç•«åå¥½æ”¯æ´
// ============================================================================
@media (prefers-reduced-motion: reduce) {
	*,
	*::before,
	*::after {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
		scroll-behavior: auto !important;
	}
}

// ============================================================================
// ğŸ¨ æš—è‰²æ¨¡å¼å…¨åŸŸèª¿æ•´
// ============================================================================
body.dark-mode,
body.va-dark,
.va-dark {
	// === åŸºç¤èƒŒæ™¯è‰² ===
	background-color: #0f172a !important;
	color: #f8fafc;

	--tech-border-color: #334155;
	--tech-hover-bg: #334155;
	--tech-active-bg: #0c4a6e;

	// === Vuestic è®Šæ•¸è¦†è“‹ ===
	--va-background-primary: #0f172a;
	--va-background-secondary: #1e293b;
	--va-background-element: #334155;
	--va-text-primary: #f8fafc;
	--va-text-secondary: #cbd5e1;
	--va-text-muted: #94a3b8;

	// === Dark Mode Sidebar CSS è®Šæ•¸ ===
	--va-sidebar-bg: #0f172a;
	--va-sidebar-border: rgba(255, 255, 255, 0.08);
	--va-sidebar-text: #94a3b8;
	--va-sidebar-text-active: #38bdf8;
	--va-sidebar-item-hover: rgba(255, 255, 255, 0.05);
	--va-sidebar-item-active: rgba(56, 189, 248, 0.15);

	// === Dark Mode Navbar CSS è®Šæ•¸ ===
	--va-navbar-bg: #1e293b;
	--va-navbar-border: #334155;
	--va-navbar-text: #f8fafc;
	--va-navbar-text-secondary: #94a3b8;

	// === VaCard æš—è‰²æ¨¡å¼ - æ·±è‰²èƒŒæ™¯ ===
	.va-card {
		background: #1e293b !important;
		border-color: #334155 !important;
		box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3) !important;
	}

	// === VaBreadcrumbs æš—è‰²æ¨¡å¼ ===
	.va-breadcrumbs {
		.va-breadcrumbs-item {
			color: #94a3b8;

			&:hover {
				color: #f8fafc;
			}

			&--active {
				color: #f8fafc;
			}
		}

		.va-breadcrumbs__separator {
			color: #64748b;
		}
	}

	// === ç§‘æŠ€é¢¨å¡ç‰‡ ===
	.tech-card {
		background: #1e293b;
		border-color: #334155;

		&:hover {
			border-color: #38bdf8;
		}

		&__title {
			color: #f8fafc;
		}

		&__content {
			color: #94a3b8;
		}
	}

	// === è¡¨æ ¼æš—è‰²æ¨¡å¼ ===
	.tsc-data-table {
		background: #1e293b !important;
		border-color: #334155 !important;

		.va-data-table__table-thead .va-data-table__table-th {
			background: #334155 !important;
			color: #f8fafc !important;
			border-bottom-color: #475569 !important;
		}

		.va-data-table__table-tbody .va-data-table__table-tr {
			background: #1e293b !important;
			border-color: #334155 !important;

			&:hover {
				background: #334155 !important;
			}

			.va-data-table__table-td {
				color: #e2e8f0;
			}
		}
	}

	// === è¼¸å…¥æ¡†æš—è‰²æ¨¡å¼ ===
	.va-input-wrapper {
		--va-input-wrapper-background: #1e293b;
		--va-input-wrapper-border-color: #334155;

		input,
		textarea {
			color: #f8fafc;

			&::placeholder {
				color: #64748b;
			}
		}
	}

	// === æŒ‰éˆ•æš—è‰²æ¨¡å¼å¾®èª¿ ===
	.va-button {
		&--secondary,
		&--plain {
			color: #94a3b8;

			&:hover {
				color: #f8fafc;
				background: #334155;
			}
		}
	}

	// === åˆ†éš”ç·šæš—è‰²æ¨¡å¼ ===
	.va-divider {
		background: #334155 !important;
	}

	// === é€šç”¨æ–‡å­—é¡è‰²ä¿®æ­£ ===
	.text-gray-500,
	.text-gray-600 {
		color: #94a3b8 !important;
	}
}
